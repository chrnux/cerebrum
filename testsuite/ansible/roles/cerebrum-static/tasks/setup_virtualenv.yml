# Extend the virtual environment with static code analysis tools

# This role depends on 'cerebrum', so 'pip_extra_args' should already be set up.
- name: set up static analysis tools
  pip:
      virtualenv: "{{ virtualenv }}"
      extra_args: "{{ pip_extra_args|default(None) }}"
      name: "{{ item }}"
  with_items:
      - flake8
      - flake8-junit-report
      - pbr  # manually resolve deps for pylint
      - traceback2  # manually resolve deps for pylint
      - six  # manually resolve deps for pylint
      - argparse  # manually resolve deps for pylint
      - pylint
