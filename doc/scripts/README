====================================
Building the Cerebrum documentation
====================================

Setup
=======
You should set the following environment variables (use the path where
you have placed your files)::

  export CEREDOC=/local/home/runefro/usit/new-doc
  export CERESRC=/local/home/runefro/usit/cerebrum
  export SP_ENCODING=XML
  export SP_CHARSET_FIXED=YES


Running
========
To build the html version, do something like::
  cd $CEREDOC
  scripts/build.py --build-contents contents.rst

To build the pdf version, do something like::
  cd $CEREDOC
  scripts/build.py --xml book.xml
  cd build
  db2pdf book.xml 


Notes
========
We are using some additional directives that are not (atleast yet)
part of docutils.  This requires some modifications.

namespace
---------
Adding a line ``.. namespace:: foo`` will prefix all autogenerated ids
with ``foo``.  This is needed to avoid problems with duplicate ids
when merging the files.  Unfortunately the patch also requires
modifications to the core of docutils, see ``docutils.diff``.

sysinclude
-------------
This extension allows running commands, and inserting their results in
the document.  Unfortunately, docutils currently has no mechanism for
adding new directives without patching the rst2* scripts.  Therefore
the ``scripts/`` directory contains patched variants of these scripts.

