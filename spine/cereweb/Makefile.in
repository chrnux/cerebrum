##
## Makefile for Cereweb
##

INSTALL = @INSTALL@
pythondir = @PYTHONDIR@

.PHONY: all install install-lib clean distclean

sources = $(wildcard *.py)

all: 
	$(MAKE) -C htdocs $@
	$(MAKE) -C lib $@

install: install-lib
	$(MAKE) -C htdocs $@
	$(MAKE) -C lib $@

install-lib: $(sources)
	$(INSTALL) -d $(pythondir)
	$(INSTALL) -v -m 755 $(sources) $(pythondir)
	$(MAKE) -C htdocs $@
	$(MAKE) -C lib $@

clean:
	$(MAKE) -C htdocs $@
	$(MAKE) -C lib $@

distclean: clean
	$(MAKE) -C htdocs $@
	$(MAKE) -C lib $@

